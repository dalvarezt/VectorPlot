var data = [{"t":"17:33:15.040","d":[0.0122,-0.0122,-1.1341]},{"t":"17:33:15.080","d":[0.0732,-0.0854,-1.0854]},{"t":"17:33:15.120","d":[0.0732,0.0488,-0.9390]},{"t":"17:33:15.160","d":[0.0000,0.0488,-0.9146]},{"t":"17:33:15.200","d":[0.0732,0.0244,-1.1463]},{"t":"17:33:15.240","d":[0.0000,0.1098,-0.8780]},{"t":"17:33:15.280","d":[0.0122,-0.0122,-1.0854]},{"t":"17:33:15.320","d":[0.0366,0.0000,-1.1341]},{"t":"17:33:15.360","d":[0.0854,-0.0244,-1.0366]},{"t":"17:33:15.400","d":[0.0610,-0.0122,-1.0366]},{"t":"17:33:15.440","d":[0.0610,-0.0122,-1.0488]},{"t":"17:33:15.480","d":[0.0488,-0.0122,-1.0366]},{"t":"17:33:15.520","d":[0.0122,0.0122,-1.0122]},{"t":"17:33:15.560","d":[0.0122,0.1220,-1.0122]},{"t":"17:33:15.600","d":[0.0122,0.0000,-1.0244]},{"t":"17:33:15.640","d":[0.0610,0.0000,-1.1098]},{"t":"17:33:15.680","d":[0.0000,0.0244,-1.0244]},{"t":"17:33:15.720","d":[0.0488,-0.0732,-1.1220]},{"t":"17:33:15.760","d":[0.0122,0.0000,-1.0976]},{"t":"17:33:15.800","d":[0.0000,0.0244,-1.2805]},{"t":"17:33:15.840","d":[0.1829,-0.5122,-1.0244]},{"t":"17:33:15.880","d":[0.0366,-0.0610,-1.0122]},{"t":"17:33:15.920","d":[0.0488,0.0000,-1.0122]},{"t":"17:33:15.960","d":[0.0122,0.0122,-1.0122]},{"t":"17:33:16.000","d":[-0.0488,0.0000,-1.0122]},{"t":"17:33:16.040","d":[0.0366,-0.0854,-1.0000]},{"t":"17:33:16.080","d":[0.0122,-0.0976,-1.0122]},{"t":"17:33:16.120","d":[0.0244,0.0000,-1.0610]},{"t":"17:33:16.160","d":[0.0122,-0.0732,-0.9634]},{"t":"17:33:16.200","d":[0.0854,-0.0244,-1.0122]},{"t":"17:33:16.240","d":[0.0488,0.0244,-1.0366]},{"t":"17:33:16.280","d":[0.0122,-0.0366,-0.9634]},{"t":"17:33:16.320","d":[0.0366,-0.0732,-0.9634]},{"t":"17:33:16.360","d":[0.0366,-0.1341,-0.9268]},{"t":"17:33:16.400","d":[0.0732,-0.1341,-1.0732]},{"t":"17:33:16.440","d":[0.0610,0.0366,-1.1341]},{"t":"17:33:16.480","d":[0.0000,0.0122,-1.2439]},{"t":"17:33:16.520","d":[0.0732,0.0000,-0.9634]},{"t":"17:33:16.560","d":[0.0244,0.1463,-1.1463]},{"t":"17:33:16.600","d":[0.0488,0.0244,-0.9878]},{"t":"17:33:16.640","d":[0.0976,0.0000,-1.1463]},{"t":"17:33:16.680","d":[0.0000,0.0244,-1.3049]},{"t":"17:33:16.720","d":[0.0854,-0.0854,-0.9634]},{"t":"17:33:16.760","d":[0.0244,0.1098,-1.1585]},{"t":"17:33:16.800","d":[0.1463,0.0732,-1.1585]},{"t":"17:33:16.840","d":[0.0000,-0.0122,-0.9146]},{"t":"17:33:16.880","d":[-0.0732,0.1829,-1.0488]},{"t":"17:33:16.920","d":[0.0854,-0.1951,-1.0488]},{"t":"17:33:16.960","d":[0.0610,0.0000,-1.0366]},{"t":"17:33:17.000","d":[0.0000,0.0976,-1.0000]},{"t":"17:33:17.040","d":[0.0488,0.0244,-0.9268]},{"t":"17:33:17.080","d":[-0.0122,0.0366,-1.1098]},{"t":"17:33:17.120","d":[0.0000,0.1829,-1.3049]},{"t":"17:33:17.160","d":[0.0122,0.2683,-1.0366]},{"t":"17:33:17.200","d":[0.0488,0.0366,-0.9634]},{"t":"17:33:17.240","d":[-0.0854,0.0000,-1.0610]},{"t":"17:33:17.280","d":[-1.5976,4.3659,-1.0000]},{"t":"17:33:17.320","d":[2.0488,6.3415,-1.3537]},{"t":"17:33:17.360","d":[-2.8902,2.0000,0.6707]},{"t":"17:33:17.400","d":[-3.2927,-7.2439,-1.2927]},{"t":"17:33:17.440","d":[-1.0976,-1.2317,-1.0854]},{"t":"17:33:17.480","d":[0.0122,0.0488,-1.0610]},{"t":"17:33:17.520","d":[-0.0244,0.0366,-1.0000]},{"t":"17:33:17.560","d":[0.1220,0.0122,-0.8049]},{"t":"17:33:17.600","d":[0.0122,0.0122,-1.0854]},{"t":"17:33:17.640","d":[0.0366,0.0244,-1.0488]},{"t":"17:33:17.680","d":[0.0610,0.0122,-1.0122]},{"t":"17:33:17.720","d":[0.0000,0.0244,-1.0000]},{"t":"17:33:17.760","d":[0.2561,0.0122,-1.0122]},{"t":"17:33:17.800","d":[0.0000,-0.0732,-1.0122]},{"t":"17:33:17.840","d":[0.0366,-0.1341,-1.0366]},{"t":"17:33:17.880","d":[-0.3902,0.5732,-1.0000]},{"t":"17:33:17.920","d":[0.0000,0.0610,-1.0122]},{"t":"17:33:17.960","d":[-0.0366,0.0122,-0.9268]},{"t":"17:33:18.000","d":[-0.0976,0.0732,-1.0244]},{"t":"17:33:18.040","d":[0.0976,-0.0610,-1.0854]},{"t":"17:33:18.080","d":[0.0854,-0.0366,-0.9390]},{"t":"17:33:18.120","d":[-0.1220,-0.0976,-1.0000]},{"t":"17:33:18.160","d":[0.0000,0.0610,-0.9878]},{"t":"17:33:18.200","d":[0.0122,0.0122,-0.9756]},{"t":"17:33:18.240","d":[0.0122,0.0244,-0.9878]},{"t":"17:33:18.280","d":[0.0122,0.0122,-1.0000]},{"t":"17:33:18.320","d":[0.0610,0.0366,-1.0000]},{"t":"17:33:18.360","d":[0.0122,0.0000,-1.0000]},{"t":"17:33:18.400","d":[0.0122,0.0244,-1.0122]},{"t":"17:33:18.440","d":[0.0244,0.0122,-1.0000]},{"t":"17:33:18.480","d":[0.0000,0.0122,-1.0122]},{"t":"17:33:18.520","d":[0.0122,0.0244,-1.0000]},{"t":"17:33:18.560","d":[0.0122,0.0122,-1.0122]},{"t":"17:33:18.600","d":[0.0488,0.0000,-0.9756]},{"t":"17:33:18.640","d":[0.0244,0.0122,-0.9878]},{"t":"17:33:18.680","d":[0.0122,0.0000,-1.0000]},{"t":"17:33:18.720","d":[0.0244,0.0000,-1.0366]},{"t":"17:33:18.760","d":[0.0122,0.0000,-0.9756]},{"t":"17:33:18.800","d":[0.0122,0.0000,-0.9878]},{"t":"17:33:18.840","d":[0.0244,0.0122,-1.0244]},{"t":"17:33:18.880","d":[0.0488,0.0000,-1.0244]},{"t":"17:33:18.920","d":[0.0366,0.0122,-1.0244]},{"t":"17:33:18.960","d":[0.0244,0.0122,-1.0122]},{"t":"17:33:19.000","d":[0.0122,0.0122,-1.0122]},{"t":"17:33:19.040","d":[0.0488,0.0122,-1.0122]},{"t":"17:33:19.080","d":[0.0244,0.0000,-1.0122]},{"t":"17:33:19.120","d":[0.0366,0.0122,-0.9878]},{"t":"17:33:19.160","d":[0.0122,0.0122,-1.0366]},{"t":"17:33:19.200","d":[-0.0244,0.0000,-1.1463]},{"t":"17:33:19.240","d":[0.0122,0.0000,-1.0122]},{"t":"17:33:19.280","d":[0.0244,0.0366,-1.0244]},{"t":"17:33:19.320","d":[0.0244,0.0122,-1.0122]},{"t":"17:33:19.360","d":[0.0488,0.0000,-1.0122]},{"t":"17:33:19.400","d":[0.0244,0.0122,-1.0000]},{"t":"17:33:19.440","d":[0.0244,0.0000,-1.0244]},{"t":"17:33:19.480","d":[0.0122,0.0122,-1.0000]},{"t":"17:33:19.520","d":[0.0244,0.0244,-1.0000]},{"t":"17:33:19.560","d":[0.0244,0.0000,-1.0000]},{"t":"17:33:19.600","d":[0.0244,0.0122,-1.0244]},{"t":"17:33:19.640","d":[0.0122,0.0122,-1.0000]},{"t":"17:33:19.680","d":[0.0244,0.0244,-0.9878]},{"t":"17:33:19.720","d":[0.0122,0.0000,-1.0122]},{"t":"17:33:19.760","d":[0.0122,0.0000,-0.9878]},{"t":"17:33:19.800","d":[0.0122,0.0000,-1.0000]},{"t":"17:33:19.840","d":[0.0244,0.0122,-1.0000]},{"t":"17:33:19.880","d":[0.0366,0.0000,-1.0000]},{"t":"17:33:19.920","d":[0.0366,0.0122,-1.0000]},{"t":"17:33:19.960","d":[0.0122,0.0122,-1.0122]},{"t":"17:33:20.000","d":[0.0244,0.0122,-1.0000]},{"t":"17:33:20.040","d":[0.0122,0.0244,-1.0122]},{"t":"17:33:20.080","d":[0.0122,0.0244,-1.0000]},{"t":"17:33:20.120","d":[0.0244,0.0122,-0.9878]},{"t":"17:33:20.160","d":[0.0244,0.0122,-1.0122]},{"t":"17:33:20.200","d":[0.0610,0.0122,-1.0488]},{"t":"17:33:20.240","d":[0.0366,0.0244,-1.0244]},{"t":"17:33:20.280","d":[0.0122,0.0488,-1.0000]},{"t":"17:33:20.320","d":[0.0244,0.0122,-1.0000]},{"t":"17:33:20.360","d":[0.0122,0.0122,-1.0000]},{"t":"17:33:20.400","d":[0.0122,0.0366,-1.0000]},{"t":"17:33:20.440","d":[0.0244,0.0000,-1.0488]},{"t":"17:33:20.480","d":[0.0122,0.0244,-0.9756]},{"t":"17:33:20.520","d":[0.0122,0.0244,-1.0122]},{"t":"17:33:20.560","d":[0.0000,0.0122,-1.0122]},{"t":"17:33:20.600","d":[0.0244,0.0000,-1.0000]},{"t":"17:33:20.640","d":[0.0122,0.0122,-0.9878]},{"t":"17:33:20.680","d":[0.0366,0.0122,-1.0000]},{"t":"17:33:20.720","d":[0.0244,0.0244,-1.0122]},{"t":"17:33:20.760","d":[0.0122,0.0122,-1.0244]},{"t":"17:33:20.800","d":[0.0366,0.0122,-1.0244]},{"t":"17:33:20.840","d":[0.0122,0.0122,-1.0122]},{"t":"17:33:20.880","d":[0.0122,0.0000,-0.9756]},{"t":"17:33:20.920","d":[0.0122,0.0488,-1.0122]},{"t":"17:33:20.960","d":[0.0244,0.0122,-1.0000]},{"t":"17:33:21.000","d":[0.0122,0.0366,-1.0000]},{"t":"17:33:21.040","d":[0.0000,0.0122,-1.0366]},{"t":"17:33:21.080","d":[0.0122,0.0244,-1.0122]},{"t":"17:33:21.120","d":[0.0244,0.0000,-1.0000]},{"t":"17:33:21.160","d":[0.0122,0.0244,-1.0244]},{"t":"17:33:21.200","d":[0.0610,0.0244,-1.0366]},{"t":"17:33:21.240","d":[0.0610,0.0000,-1.0000]},{"t":"17:33:21.280","d":[0.0366,0.0122,-0.9634]},{"t":"17:33:21.320","d":[0.0366,0.0122,-1.0122]},{"t":"17:33:21.360","d":[0.0122,0.0122,-1.0000]},{"t":"17:33:21.400","d":[0.0366,0.0122,-1.0122]},{"t":"17:33:21.440","d":[0.0366,0.0122,-1.0000]},{"t":"17:33:21.480","d":[0.0366,0.0122,-0.9878]},{"t":"17:33:21.520","d":[0.0244,0.0000,-1.0122]},{"t":"17:33:21.560","d":[0.0366,0.0000,-0.9878]},{"t":"17:33:21.600","d":[0.0488,0.0244,-1.0000]},{"t":"17:33:21.640","d":[0.0488,0.0610,-0.9878]},{"t":"17:33:21.680","d":[0.0366,0.0122,-1.0244]},{"t":"17:33:21.720","d":[0.0244,0.0122,-0.9878]},{"t":"17:33:21.760","d":[0.0244,0.0000,-0.9878]},{"t":"17:33:21.800","d":[0.0244,0.0366,-1.0122]},{"t":"17:33:21.840","d":[0.0122,0.0122,-1.0366]},{"t":"17:33:21.880","d":[0.0244,0.0244,-1.0000]},{"t":"17:33:21.920","d":[0.0244,0.0000,-1.0122]},{"t":"17:33:21.960","d":[0.0244,0.0122,-1.0122]},{"t":"17:33:22.000","d":[0.0244,0.0122,-1.0122]},{"t":"17:33:22.040","d":[0.0122,0.0244,-1.0000]},{"t":"17:33:22.080","d":[0.0244,0.0000,-1.0000]},{"t":"17:33:22.120","d":[0.0122,0.0122,-0.9878]},{"t":"17:33:22.160","d":[0.0244,0.0122,-1.0000]},{"t":"17:33:22.200","d":[0.0122,0.0000,-1.0244]},{"t":"17:33:22.240","d":[0.0122,0.0000,-1.0122]},{"t":"17:33:22.280","d":[0.0366,0.0244,-1.0366]},{"t":"17:33:22.320","d":[0.0122,0.0000,-1.0000]},{"t":"17:33:22.360","d":[0.0366,0.0488,-1.0366]},{"t":"17:33:22.400","d":[0.0732,0.0366,-1.0366]},{"t":"17:33:22.440","d":[0.0244,-0.0122,-1.0244]},{"t":"17:33:22.480","d":[0.0122,0.0122,-0.9878]},{"t":"17:33:22.520","d":[0.0122,0.0000,-1.0000]},{"t":"17:33:22.560","d":[0.0244,0.0244,-1.0122]},{"t":"17:33:22.600","d":[0.0122,0.0854,-1.0244]},{"t":"17:33:22.640","d":[0.0122,0.0122,-1.0000]},{"t":"17:33:22.680","d":[0.0122,0.0122,-1.0244]},{"t":"17:33:22.720","d":[0.0366,0.0244,-1.0244]},{"t":"17:33:22.760","d":[0.0122,0.0122,-1.0122]},{"t":"17:33:22.800","d":[0.0244,0.0122,-1.0244]},{"t":"17:33:22.840","d":[0.0244,0.0122,-1.0122]},{"t":"17:33:22.880","d":[0.0610,0.0244,-0.9268]},{"t":"17:33:22.920","d":[0.0244,0.0122,-1.0000]},{"t":"17:33:22.960","d":[0.0122,0.0122,-0.9756]},{"t":"17:33:23.000","d":[0.0488,0.0122,-1.0610]},{"t":"17:33:23.040","d":[0.0000,0.0000,-1.0244]},{"t":"17:33:23.080","d":[0.0244,0.0488,-1.0244]},{"t":"17:33:23.120","d":[0.0000,0.0488,-0.9878]},{"t":"17:33:23.160","d":[0.0610,-0.2439,-1.0610]},{"t":"17:33:23.200","d":[0.0732,-0.0122,-1.0366]},{"t":"17:33:23.240","d":[0.0000,0.0366,-0.9024]},{"t":"17:33:23.280","d":[0.0000,0.0488,-1.0122]},{"t":"17:33:23.320","d":[0.0732,0.0732,-1.0244]},{"t":"17:33:23.360","d":[0.0000,-0.0122,-1.0244]},{"t":"17:33:23.400","d":[0.0366,-0.0610,-0.9634]},{"t":"17:33:23.440","d":[0.0976,0.0000,-0.9756]},{"t":"17:33:23.480","d":[0.0732,-0.0122,-1.0488]},{"t":"17:33:23.520","d":[0.0122,0.0366,-1.0610]},{"t":"17:33:23.560","d":[0.0488,0.0366,-1.0732]},{"t":"17:33:23.600","d":[0.0244,0.0854,-1.0244]},{"t":"17:33:23.640","d":[-0.0122,0.0244,-1.0610]},{"t":"17:33:23.680","d":[0.0122,0.0244,-1.0000]},{"t":"17:33:23.720","d":[0.0610,-0.0122,-1.2073]},{"t":"17:33:23.760","d":[0.0244,0.0488,-0.9756]},{"t":"17:33:23.800","d":[0.0366,0.0000,-1.0244]},{"t":"17:33:23.840","d":[0.0610,0.0488,-1.0244]},{"t":"17:33:23.880","d":[0.0122,0.0000,-0.9756]},{"t":"17:33:23.920","d":[0.0244,0.0122,-1.0610]},{"t":"17:33:23.960","d":[0.0122,0.0488,-1.0732]},{"t":"17:33:24.000","d":[0.0610,0.0366,-1.0488]},{"t":"17:33:24.040","d":[0.0244,-0.0488,-1.0610]},{"t":"17:33:24.080","d":[0.0122,0.0610,-1.0488]},{"t":"17:33:24.120","d":[0.0732,0.0366,-1.0610]},{"t":"17:33:24.160","d":[0.0610,0.0000,-1.0122]},{"t":"17:33:24.200","d":[0.0732,0.0000,-1.0610]},{"t":"17:33:24.240","d":[0.1098,-0.0122,-1.0000]},{"t":"17:33:24.280","d":[0.0244,0.0610,-1.0122]},{"t":"17:33:24.320","d":[0.0366,-0.0610,-0.9756]},{"t":"17:33:24.360","d":[0.0488,-0.0488,-0.8780]},{"t":"17:33:24.400","d":[0.0000,-0.0366,-0.9390]},{"t":"17:33:24.440","d":[-0.0366,-0.0976,-0.8780]},{"t":"17:33:24.480","d":[-0.0366,-0.0366,-1.1585]},{"t":"17:33:24.520","d":[0.0122,-0.1341,-0.5732]},{"t":"17:33:24.560","d":[0.0854,0.2317,-1.3902]},{"t":"17:33:24.600","d":[0.0854,0.0610,-1.0976]},{"t":"17:33:24.640","d":[0.1585,0.0244,-0.8659]},{"t":"17:33:24.680","d":[0.0732,0.1098,-1.1585]},{"t":"17:33:24.720","d":[-0.0732,-0.3049,-1.0122]},{"t":"17:33:24.760","d":[-0.7561,-0.3902,-0.7805]},{"t":"17:33:24.800","d":[-1.3049,5.1463,-0.8659]},{"t":"17:33:24.840","d":[-3.3780,10.5610,0.0122]},{"t":"17:33:24.880","d":[-6.3537,-1.9268,-0.9756]},{"t":"17:33:24.920","d":[-2.7805,-17.3293,-1.0000]},{"t":"17:33:24.960","d":[-2.0732,-8.3659,-1.3659]},{"t":"17:33:25.000","d":[-0.9512,1.1585,-1.1341]}]
camaro = {
	name: "Chevrolet Camaro",
	url: "obj/camaro/CamaroNoUv_bin.js",
	author: '<a href="http://www.turbosquid.com/3d-models/blender-camaro/411348" target="_blank">dskfnwn</a>',
	init_rotation: [0.0, 0.0, 0.0 /*0, 1, 0*/],
	scale: 25,
	init_material: 0,
	body_materials: [0],
	object: null,
	buttons: null,
	materials: null
}
var stage=null, 
	lineX=null,
	lineY=null,
	lineZ=null;
var plot=null;

function paintVector(idx) {
	var point = data[idx].d;
	
	var Vx = {x:[0,point[0]], y:[0,0], z:[0,0]};
	var Vy = {x:[0,0], y:[0,point[1]], z:[0,0]};
	var Vz = {x:[0,0], y:[0,0], z:[0,point[2]]};

	if (stage===null) {
		stage = new Elegans.Stage(d3.select("#vis")[0][0], {autorange:false, save_image:false, range:{x:[10,-10], y:[10,-10], z:[10,-10]}});
		stage.render();
	} else {
		stage.dispose();
		stage.charts=[];
	}
		lineX = new Elegans.Line(Vx, {thickness: 5, colors: ["#ff0000","#ff0000"], has_legend: false});
		lineY = new Elegans.Line(Vy, {thickness: 5, colors: ["#00af00","#00af00"], has_legend: false});
		lineZ = new Elegans.Line(Vz, {thickness: 5, colors: ["#0000ff","#0000ff"], has_legend: false});
		stage.add(lineX);
		stage.add(lineY);
		stage.add(lineZ);
		stage.update();
}

function paintChart() {
	var seriesX = {label:"fuerza g en X", color:"#ff0000", lines:{show:true}, data:[]};
	var seriesY = {label:"fuerza g en Y", color:"#00af00", lines:{show:true}, data:[]};
	var seriesZ = {label:"fuerza g en Z", color:"#0000ff", lines:{show:true}, data:[]};
	
	for (var i=0; i<data.length; i++) {
		seriesX.data.push( [i, data[i].d[0]] );
		seriesY.data.push( [i, data[i].d[1]] );
		seriesZ.data.push( [i, data[i].d[2]] );
	}
	
	plot = $.plot( "#chart", [seriesX,seriesY,seriesZ], { 
		yaxis:{ position:"right"}, 
		xaxis:{show:false},
		grid: { markings:[{color:"#aaaaaa", lineWidth:1, xaxis: {from: 0, to:0} }] }

		});
}
function painter(v) {
			paintVector(v);
			$("#hora").text( data[v].t );
			$("#acx").text(data[v].d[0]);
			$("#acy").text(data[v].d[1]);
			$("#acz").text(data[v].d[2]);
			if(plot) {
				plot.getOptions().grid.markings[0].xaxis.from = v;
				plot.getOptions().grid.markings[0].xaxis.to = v;
				plot.draw();
			}
}
function setStage() {

	$("#slider").slider({
		min:0,
		max:data.length-1,
		slide:function(event, ui) {
			painter(ui.value);
		}
	} );
	paintChart();
	painter(0);
}